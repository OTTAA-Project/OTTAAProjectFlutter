# Automatically generated on 2023-01-03 UTC from https://codemagic.io/app/633ae2406e6d53fd76823f7f/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  dev-workflow:
    name: dev workflow
    max_build_duration: 30
    environment:
      vars:
        GOOGLE_SERVICES: Encrypted(Z0FBQUFBQmp0R3pEMzJ0cWQwZzZ3M0RFbUkzTmJLQkpFYkk1V0R1LUFldXloeWMzbkxiVm0yaWVvNmQ5dEFnYjE2UEl2Q3lfdDZiNzRPTlcwUHBENGNqaUV2c094d1lsNllObzVTaS1ncGZEMU80YlpPY3pTczNlbnlWbXVXak5NQkdsVzJESjRaLVNjQXpIRm40SkRZRWFoWmJpcURzTGpzVkRvLUJ6TmdNWnRYY2xlS2RKb2N4a0F0X0lrSWk0cHJsOEtPSFd4Z2xnUjdRMURnZE5rQkZfSkdhR3ZaQUdjYXQ2c3FSZFVOMl9uUVdRWGQ3Y0k4SXZobE1sZC01Q3NfM2xMWFg2cGwtb1A5VS1qVjdlS1lzZV8wX0FsMG9sMS11R2pZaVhkdmhVMmFRQ04tSFhocHdsR19mTHltNUV5V3BIeGRvT2hmU2hDQ0hiamRJMGpCWHNkOE4wOWRraDViRkZIN3M5UEN0ZXRmNUdTRDQ5VWQwand3UHdZVFBzUjNEWHlRcm1hc2VWSmpXNXpPSHhpY3ItUzRVUmlhbkpWbkt4Y2piVzN2ZkhDRU9Xay1EalBvY1FqZUZUTDlQTDVGN2czTm1YVmRvaFBHMFNlN09WOG5kN0hIa2Rxdkl1ajNMR2hUdGZQWldIR0VHRl9LNFdOeVlOdzVCNjVuMGFacHFMQThiSFd0dUF2UnJodGViSjM3OW5vMk82TWpfX09OM01QUDdxd05BMWdUYjJUVUNZRmxwTUpkRTBPRTI4VEJBaUlGd0pYazBxZlI3aS02dVJJSEJKRXFZM1RqRlhTbEYxMjRjeXB6SGVmdjRVMEUyaldhNTZndWVXTWdkNmxRY1pfSTFLRHJGVFZyWDg4Y3NaNllNQi1GcWZtU0ZBaUJ4ekFLYnlVTmNkclIyTm9CMGY5QmlxanA5YlZWUU9kbFo4aXpmbS1GLVY3LVV2aVJkQzE4cklLdzlZYWk4U0NSa2NXaDZ3MHc2RkhhdGVQVnMtdUlZN1F1emlXZ3FLWGxnT3poVUlHQTc4T0NyeTViSnJHYmZVOVd1S1pNV1lPcGJXcXhtMDIxdDNsRkpxZm8zc3IzRDNXNk5rSUc4Vm1SY1BvNzdlTUd1bTVXSjZhQXJKOG9LSFh2bFpPUFVmVmppSURkcTlFQ19RWVc2R0ZTaWlIVUttQnJTUkhpa2VNWUM5TVA0cFpMNE14Vkdnb2k5bnNxbEg4Qk5QUkxGREd0a3kyN2NGUmxZTWFrM1Q4dXd4TnB5cVNId1F6dUpyMVlLNEc1Y0FGeVliMjdtZjg1TXFnWEhxREtZTU9UTUZpcjk3WWN2RmZFNVctSjQ2aGV0THBITlhtOEU4QWFFTXltMmF3YTNiY1hqenUwZWJ3cE9wRlI2aDR0cUkzdllHbDNaYV9YVkVDMWprRlVNallYNjlEdEJLb3AxVEdnWU5Qb181RzNGdko4bUtVOFVrOFo1RmlfU1luSElwamRsdnJzc2VXcmdqckxId3MyMFBWbDdwTEd5ZjRyZE04MzRMWjVTZnlpU0VMblpNVl9xVGM5YVdFTDNPWUVycU5RLTY2YkhkT1djOFpJeWtGb0VFUjlJbEUzNjBtOFZncmtQNmpWdWRCM0VpS2VwbW1ZM051WHlDQjBHVkdPakRKNG9mSWNOZEFoVk5QVW53SDVQbkI1YlZxQlBzY19za2tTODUtTllpMmY1VDE5YnFtMWp3RkxpemRsRWxuYzhacnE0bEFXeVlkaThlOTNfeUJiSkpac0V1bTI0Y1hGRlQwSDJGMmVpZ2JaRFhLZkhDeExDR0ZocFZoWUpfVGMtSTJ2dm5haGFFdHAtcVJzTEpyLVFhNWpKWjBuNzlTT0diZTc2cDBHSGVsWGRUVmFJY3FWSU92djhaS0s2R3FZY1U5SFBkcFFPbDRuVGtxR3hZSkJfd2F0a3hpOVdZXzNIbkZHYjRNV1c5NVc1RDc4MlZWYlNoT2lXYVZ4dGNCQ2NmaXp6a09tTXBteHNNbF9ILXI4Z2VDclktTlhuOFY1b2tINUh1UkV1d01mQlZJcC01QjIzMWRTUnlMUnRnTVc4cVpOalpwWGdjdWcwQUhrSzZQM3ZzR2VuNy1EeklVUHc0UmNtaE93Q3NWdW93MWpyelRPZkppWmVkNHdLRGcydmlKTldKb1ZKcUlKV1dCYmpROFNrU2hfbTRySnYzQ2ZKSHBUQmNsbk9lZUthSk1WWm5uQWw4NmNCRHZPTG8wMms0VTBPOXg2WE8yM04xQUgzRkgzbG03bnR4NDlMNFZZLVFZNEhOTG8wNHRyd1o1S3c0UnBtdkt6VzhySkI2RUJ5bVBEQUMxOThQLVh4MVI0Z1E0ZHo3UjdLeVR0VW9kZWdWdFJlSjJFNnpwY2p3WndFWFlQeV9YTkZyZXNoQ3BkOGZtZEc4SmJBTmZZWlF6bmcwOWpIMXNKTDd4QlVvWnl2S0ZGVGdjQ3VkRFhWYlJMMUdhVGExVHg3YXNJZTVCZktTS01rNUlhNmkzZkxqakxsZ2M2UDhUV3hMT3lGQ2hNdUxCTTd3bWNPWTRUVER6eWhmal92VVRVLW1ldmJwcEo4aXZUNlBRWTE1Wnh0Q21Tam9KWVRYYU9VaUwxMXNvNFF0M2RlZVJ0Q1R6MDl5M2VMazlNQTIyOGx4YkFYVTg1RHNrejJKWXlCZV9KWTFVZFNLUTEtblBsTlN5XzJwdVMwN2taY3ZKVjNSckhKSVVteGstcHN4d2NTUnBESGV3UFdpc2lnNi16UEFVYU5GRjBNMUs0andqaVFlYXBCMjcwWnkzZS1vc2ZmdVhOTGtTOWdHYXhLODI1VGhiX1J3Y1dTbWhJNnhFVUoteDVKZGFaLUZtX3ZRSHBZZ0RhOEowRDZqQWMyWDBMVkYzRDFqM1VkTlRPOXhCYzNsNGRXTmNGMFJ1VEFjbjhjeUhaV0M1amdFSFBBdTJnS1h1blVTV0hQeEtBSTFQLVhCcjlfRjViOElnRDdoR05CU0RPbUhwVHJoYUh4MGllVTlhUTRkWHFEVm13a250M3E4NERBWWt0dmhBWC1ZcGlrVzFwaWJZMUVjUGtaSm5TdmdTOWhVRFprdEppZUdRc2oySVFmaWlpOVhDTzFEU1FoUFZEOUlSdnNlNktHZTVNZmRsVWZtUGFfTzNCdTU2YXg0UHNuVlZ4M2xhQVFDSWpya29ZX0dfdWtBbnluVkE5WkxiWXVHazlKTVJ4Z05CR1N2Vm1iODhPbW10M05pNUwtZjlHZnpZUll6VFAtME5tV25RNkItVkEtRlpjdFVybGcyV1F3d1dDaDBleGVweEpZYVQ5N3Rya1MxX1Z3YnFfc1R3UVNvY2NjRVpBTkQ2Vi04LWFnZERFc3dZSS14TXBtMENGbVFlX0dPN2RDLVRwQUNlUVlpMjBPQTBZN3JCZHhXdGVDVk1YaEpRekVGTmNSOERGZlZDeUZqaHVwZktxWVQtampJUXpSOFEyYVYzNEJHZzdGVUJhRmxfU1g0eGlBRnlFeWE4LVljX2UxZ0lZYXVWVTlOdkJGYmQwems3UjU0TjlTNW1FMXc3TGR4OE9Ob29hX2JTSTVIN3RnWi1vdGZjMjNOUlhDcnh0ckFXVUJnMlZhal9WcVcxNWp4WGxBdW9kZXJFaHBfbmk4bWRnbmdmZ1VJd1p1aWJ5d3J6NDhMMlNZZFJQdjBCZUVPNlpfZGs1WVQ5c1Jkb0lrMlJiRzVMMHRxTlI5UThBMG5ZM0tOSV9HVzVnVURfc294VHNTYlhxVWNzS2hoNF91LVFyMVdBNlZyNTF2aXNMUHVIZjQ1ZzM5RUt3dU9LbEZMZS13U2hsNEFKc1d3eVBOLVZtQ0x0bm4xVVFqTFh4T3l6a3pOY1IwaTRlWllrVklPZHBRaURleWVLd1V3VWlmMS1aWXM2dFNOM04xTTJWeXl2eTh0Tk5hdm5QZFJYR2c3TFppUi1pOTZ4T2gyUXR1LUt2bW1TMVJxUE9lQ202cXgzWC1QRVZKdjdQUXA0UVVuSkwwZGZPQVdpY1RyTmJ6YVIza08xVXZmbUkzakNQZ0xzNEpfWFpnU3MwdXFjZVhmM1dQSE9WdU8tbmpWcVdwd0d4c3BwQVpzNEsyd0R1TmFfcFFNbktOZ1RnRElReEJmRHktbmlBRXFYWXpZckRrNmpuOEFtUERpMnpoR3BPZjlBRnhkaHk3VkJybzVZdEd0VTZ6MVlOX2lwUHJGSXNLV3dGRVM4VEpwWm9wOFFlSjAya3Q1R196RFlRR3BHOGdSbHU1WmdxRFlrRE02alNaV2p2U1Y1T3VUVjRTU01GMDQ1bTY1VWR2dTNMdk0yVFNKZDRFR21zRGpmT0N1LVNBSzdEQkdBY2pMRmhRRVc3X2pleGVQZTkyd0JTM0U0SW8xelo3djJVb0hPZko5cjhiYUVRQ01xZ3BReDJtMmYydFFZRTdIblNOZ0Y2U2pKM0thcDBqd1IzRmxQYUZKX0ozZzlack1GUFI1N3JETm5JdGRCX0M4dnM3LXR0QnpZRmRJSkFXZ3MxRldDbzlEMS1Jcm1oWVk5bnppaFV4cVEteUNDUTUzQ0lKRG5tbmlsQlFEN2ZoZFVJcU1fc0w5T2I4Yk5hWm0tVWZKLTFuVEhweWFJMGVJc2lhZ3ZJOXQ5T2V3SFZkSDFlbzY4WWpDNXZZa0RSbGtrSGpWWWhWajdlM3dpQzhvNUlMMnpTN3ZMU1ZmMXV3X2E2NWZhSEE0VXNiLVBYbXBDamNRa3Z0QU9tZmE2eWttNF81TUpNcl9Xa01ISkNmc1MwMWg5MWhpRGlkMHA2elZDVThDZExSQXZDck9JdXFBVndiQ1pwRTRiUkNBelFaU0czaDBBN3c2dXJxNG1CRmhENmxSMzFLc3BKRERULWdudDF6c3hRSUo0UktjOUVVaUw1b3ptcWRrQTNJQ054S3RyLVE4TndlWm9oaFdNTmpqQlo4dEQtWDZYR19jN25Idk45Y1VISFV4MVJVclVqUWxZcVZuY0ZFSy11RnVMdENwU0lNTHpYRXFad2x6SVRqQzI2T3Mxd3ZsdW84SHJVT21xMzM5NVQ0MWV3OG1yWFdoRzlOS21melYyTDF5NTZFS29zZk9SVlpHTUlRTDhqQXAyVmE2dVlLYlBLTzZNMDBKM09xRVpaNjZVX1QzVFdacmxiaDZRVW1DRHF2ci1RUGtrOEJJWHdycElZOC1XT1RTZVg2U0NXdURKQVRaME04SkdIZ1JkdmdVcUMweUFNYmJoeXgxbXhXMzR4UUpwYWRCd2dXNWw0SnVqWUJxT3VRUWI1MU9Da1UzMzlpQi1fOGlYb09SY21rWHFSNllTY0dHWHdyS0w4b1RnaHh2SGxDRm5VUzlVVmEtTDM3UmljQ1JCRnB6WDk1ZEhiRjVadTdEaHM4M1prQzlvUmJoOEc0MUJxM1pvZFBDajhWeWotQnNTa1p2bVV3SkY1VWwzbVpEWS04WHVXcUNIVm1aUHlONHBnX1JsSFBYa2lHUkNPbG5lVjktQUxRSHpGcVlhM0dkMl9LU2FlNzRrMzBCNTMtX1lxemJuTVVtay1MVnNSLTZLYm45TUNTSnJfTXNvbDA4VDJOekxtM3RPQWoxWDJYSHpWQ1pjT3JpWTB6RHhiQUhSVzlrMXhEYlVialE1VmRmNXZhYllaOTQ3dWNCeTJQY21vaVFiN2hYY25JREtYcXJtdkM5Q3g0bHFNbk5ESTJOWjE3aG9ZVjNxVlB5SzZHVE9DR3ZoTEw5UVJOYnJ1TXhaanhiTVJqcWxDNFF5OUZfY2VkcEFKZFdRZHZCZmFuYkFmMS02cGVHRnRicHRUeXNQNFhRNUM5bnRJMEpiN01reGZSNnM1WE16QXpKb001bEVjWm1pdFRnOTJzYlRzdjdjemZtc0Z5Q3JpZWVVMGYtUG52T002SWlqdXJCTGFmUWQwY0RhRzg0TzVDUUlzYmlGSmtCT1daWGZSbVlQb1NSdFhyVnI0alFPS21MOWczeTFUM3QtWkVXOEM2NnN2LUk0OFViY1ZwTVJ3RjRORE9GVjBoUGF3VjJoZjJ3YkMyUnpjbWgyUjc3UUlOcjZFUElBQ1czNGUtV0ZUcms0cnBvNHZHME1OSFFITmp5Y2xabEV0LW13WHh5ZVE2M1NuYUM4dzdpVVFmZkdKdV9ON0Y2NGxKWGFfcC0yd3lfOGx1QmpZNzA2WWNlMGZFb29RdDVTaVFwN1VSZGNFdHEydVljNzdPZEZXOUR4T0gyYWZURHR0NjRfQXY2dXJxM2U1b3JITjdRMWRMNk9RM0xveDBzTldUeFlYRlVGeXVqQUFUWnkwazBvdXNrQjlHX2t3PT0=)
        FIREBASE_JSON: Encrypted(Z0FBQUFBQmp0R3pEUjVXWktVS3RvWl83eWw1LVNGNHhzaGJOUUZ4S0F2MDl2Sl9oSGpGM0NDWjk5MV9LS3F6VTlWYUcxODBNaUdaTUtySGFTdzNhZVpKTDhiMTNGZGJLYk9sQ1Q4WmZ6RnM5aW5na2IxVE5Pa2JjN1VOWTUyZndGTUd2a2tza2VHVGJmSk53X2N5Y0Jpd2NxX2xWdDZLeVItUkp1Z3drLTJOeHJoY2Fnbm5pbUFuX3ZMQlFfMnZXT3NIdEZyY1ZaRV9ESGZBWkdwd0t4bHNmb0FOeENvT3N4V0MzaU9vcU9Jb2hwOUdPbE1xdUNxbnh5cEQzSkFYZmdZQ19iWEw4RUZzZldHa1YzdWQzZjZianJxelFxZ0Z1VVNWQUN1NWZMSmV2S3VUU21UZE1nZHhWbndnNVYzZDJ5bEVFWkt3Qmp6YjVHZ29iRmVTaVBRbU1TOGdqUUZZVzI1QURuOEhtbE0xWnQ0bjRRYVk4NnBkN0Q1ZmZBSGprM3lkc3Y3QWlTRWprcWRCUjhZazF6N1BtNGhrTjRfMWo0MFdvQWxmYl92VDBTdGstanhPWHRoNXhsMmNDbDV2VlBGcnM0ellTal9YSENLSDIwODdrcjdzZHNUeFhRTG5RNDdzYXUxcTJfM3VsSzJJaUt0cG9aUnJjd0RnT2ZTdnRDNkxUcWM4b0hZNWZpejBXTUViT3VnaENSWmNKZEdOeFJJeGFfY0gzUFZwRUxWTV9vbDh3RjI4WmNXZE8xQWMybU90MkFENzBibHZWUE9EbHhNX00yamdESzY0SG9Ca2M3cFZQNU1HR1JLTlo4ZGhZVnhPQmQ0Tkt6TUQ2dFJLdnczeGduYUNlVWhGNHB3VS1TSm5UOWlENjVUdWUtbEF6N0NPMTdCVFduWEF6MVY1ZDdyTkdkRGpBb1UycUhMcUQ3SVFWWExLZzJsd1pqX25QRUV0SmlJc0lxX1lmU040YUJJNTFKMXdVOExqYmJuRWpDaERXSW5ZU3czVVp4Wi04UGdQZW1ZUW9MWnQ1UGM0dVE4SDhnNU9DYlZGT0M5ck9VRnkzUl9WX3Z0QVlRcDFGSC1UdFlpRHFWNTgzbGlOMGYyNDBxZzlzbUhKd1dZVHpRS2dwYUwyMnZ0T1dBUmtwUmpZcjF2S1gxbS1WWDFSRFdpYU9MV2x4djN4MVdXcU5DQ2VMWmEyVHdzbldnWUlkZ3YwM3pPNDl3aW5HMjZuRnhLUmF4SDc5ZHJQUFhqaFV5dGtkckZWVS1sdEg4YXJZbHA3VUtZUXNkUnJIMFVWY1dsOXRmLVBWUVlqYlVzSkhOOHpFM015bER4bXJpQjNpYzkxa0pYbFI2aEVBclNWeFUzOG9EV0ZhbVVPdkxHTlM0UEZMWkpKM01wVGpuR21qVnJJUmdLWTVxc2llNGFkLV9Rcy1IdG42VWlxdU1PbXZuWkZ2VUdOUDFMellYNV9pV3RBRHdfeG9Ld0lfNDVfMUdRPT0=)
        FIREBASE_TOKEN: Encrypted(Z0FBQUFBQmp0R3pEM2thSEswM01teHVidm1ubFZaU1RPZmtDb1pfem92OUpnYnduZnljMjhXaURONXJLbERLSGd4NmhUSzNERHpJVkZoZFMyX2NUVEMzVWZjTVVEUmpZWENHTjRZYUxJTGVWeXFnUzJDdnVDUTVvRnNiV19SVmxaM2dtbmdmeEx3MHQ4UVk0RVh3R3g3R0o2Rm85YndzRUNKVHYwbFZkZVFwclV6VHRkazdub2c0RkpQTDZNeVlqcXpuN2czcGFscGVZZC0tdG45aEh0c1lYTC1URVhkSjczQT09)
      flutter: 2.10.5
      xcode: latest
      cocoapods: default
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: development
          include: true
          source: true
      tag_patterns:
        - pattern: '*'
          include: true
    scripts:
      - name: Setting up the environment
        script:
          flutter packages pub get
          flutter config --enable-web
          echo $FIREBASE_JSON | base64 --decode > $FCI_BUILD_DIR/firebase.json
          echo $GOOGLE_SERVICES | base64 --decode > $FCI_BUILD_DIR/android/app/google-services.json
          flutter packages pub run build_runner build --delete-conflicting-outputs

      - name: Testing
        script:
          flutter test

      - name: Building
        script:
          flutter build web --release --web-renderer canvaskit
          cd build/web
          7z a -r ../web.zip ./*

      - name: Deploying web
        script:
          firebase deploy --only hosting:dev-ottaaproject --token "$FIREBASE_TOKEN"

    artifacts:
      - build/web.zip
      - '*.snap'
      - build/windows/**/*.msix
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - hectoritr@hotmail.com


  master-workflow:
    name: master workflow
    max_build_duration: 30
    environment:
      flutter: default
      xcode: latest
      cocoapods: default
    scripts:
      - name: Setting up the environment
        script:
          flutter packages pub get
          flutter config --enable-web
          echo $FIREBASE_JSON | base64 --decode > $FCI_BUILD_DIR/firebase.json
          echo $GOOGLE_SERVICES | base64 --decode > $FCI_BUILD_DIR/android/app/google-services.json
          flutter packages pub run build_runner build --delete-conflicting-outputs

      - name: Testing
        script:
          flutter test

      - name: Building
        script:
          flutter build web --release --web-renderer canvaskit
          cd build/web
          7z a -r ../web.zip ./*

      - name: Deploying web
        script:
          firebase deploy --only hosting:ottaaproject --token "$FIREBASE_TOKEN"

    artifacts:
      - build/**/outputs/apk/**/*.apk
      - build/**/outputs/bundle/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/web.zip
      - '*.snap'
      - build/windows/**/*.msix
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - hectoritr@hotmail.com
